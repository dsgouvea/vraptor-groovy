vraptor-groovy
==============

vRaptor Groovy Plugin

Installing vRaptor Groovy

Add the configuration in web.xml after VRaptor filter:
````
	<servlet>
		<servlet-name>Groovlet</servlet-name>
		<servlet-class>br.com.caelum.vraptor.groovy.servlet.VRaptorGroovyServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>Groovlet</servlet-name>
		<url-pattern>*.groovy</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>Template</servlet-name>
		<servlet-class>br.com.caelum.vraptor.groovy.servlet.VRaptorGroovyTemplateServlet</servlet-class>
		<init-param>
			<param-name>template.engine</param-name>
			<param-value>br.com.caelum.vraptor.groovy.engine.VRaptorTemplateEngine</param-value>
		</init-param>
	</servlet>
	<servlet-mapping>
		<servlet-name>Template</servlet-name>
		<url-pattern>*.gsp</url-pattern>
	</servlet-mapping>
````


Controller
````
@Resource
class IndexController {

  Result result

  IndexController(Result result) {
    this.result = result
  }

  @Path("/")
  void index() {
    result.include "title", "Hello World"
  }

}
````

The request attributes can be access directly $title or with scope $requestScope.title.

If you try access directly $title and your value is null, will be throwed a variable not found. Another way, if you access using requestScope.title will be called without exception.

GSP = /WEB-INF/gsp/index/index.gsp
````
<html>
  <head>
		<title>vRaptor Groovy - $title</title>
	</head>
	<body>
		<h1>$requestScope.title</h1>
	</body>
</html>
````

You can use HTMLBuilder to return html fragment in your controller. The HTMLBuilder extends Groovy MarkupBuilder.
````
@Resource
class BuilderController {

  Result result

  BuilderController(Result result) {
    this.result = result
  }

  @Path("/test")
  def index() {
    HTMLBuilder html = HTMLBuilder.create()
    html.div {
    	h2 "Markup Builder Test"
    	p "This is generated by Html Bulder"
    }
  }

}
````
